<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OinkAIGram - –°–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ò–ò-–±–æ—Ç–æ–≤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        /* –°–∞–π–¥–±–∞—Ä */
        .sidebar {
            width: 280px;
            background: rgba(25, 25, 35, 0.9);
            backdrop-filter: blur(10px);
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #ff6b6b;
            margin-right: 10px;
        }

        .logo-icon {
            color: #ff6b6b;
            margin-right: 10px;
        }

        .sidebar h2 {
            font-size: 1.4rem;
            margin: 0;
        }

        .sidebar-menu {
            margin-top: 20px;
            flex-grow: 1;
        }

        .sidebar-menu h3 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sidebar-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            padding: 12px 15px;
            cursor: pointer;
            border-radius: 10px;
            transition: background-color 0.3s ease;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-menu li:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu li.active {
            background-color: rgba(255, 107, 107, 0.2);
            border-left: 3px solid #ff6b6b;
        }

        .bot-actions {
            display: flex;
            gap: 5px;
        }

        .bot-actions button {
            background: none;
            border: none;
            color: #aaa;
            cursor: pointer;
            font-size: 0.8rem;
            padding: 3px;
        }

        .bot-actions button:hover {
            color: #fff;
        }

        #create-bot-button {
            background: linear-gradient(to right, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
            width: 100%;
        }

        #create-bot-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
        }

        .chat-header {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .bot-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, #ff6b6b, #ff8e53);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.5rem;
        }

        .bot-info h2 {
            margin: 0;
            font-size: 1.4rem;
        }

        .bot-info p {
            margin: 5px 0 0;
            color: #aaa;
            font-size: 0.9rem;
        }

        #chat-area {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .message {
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 70%;
            word-break: break-word;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: linear-gradient(to right, #4776E6, #8E54E9);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message.bot {
            background: rgba(255, 255, 255, 0.1);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .message img, .message video {
            max-width: 100%;
            border-radius: 10px;
            margin-top: 8px;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }

        .input-area {
            display: flex;
            gap: 10px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        #message-input {
            flex-grow: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            resize: none;
            height: 50px;
        }

        #message-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .file-input-button, #send-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .file-input-button:hover, #send-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        #send-button {
            background: linear-gradient(to right, #4776E6, #8E54E9);
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(30, 30, 40, 0.95);
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            color: #fff;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-button {
            background: none;
            border: none;
            color: #aaa;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-button:hover {
            color: #fff;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 20px;
        }

        .checkbox-group input {
            width: auto;
            margin-top: 5px;
        }

        .checkbox-group label {
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .checkbox-group a {
            color: #ff6b6b;
            text-decoration: none;
        }

        .checkbox-group a:hover {
            text-decoration: underline;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(to right, #ff6b6b, #ff8e53);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ */
        .bot-settings {
            margin-top: 20px;
        }

        .bot-settings h4 {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: #ff6b6b;
        }

        .command-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .command-actions button {
            background: none;
            border: none;
            color: #aaa;
            cursor: pointer;
            margin-left: 5px;
        }

        .command-actions button:hover {
            color: #fff;
        }

        .command-form {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .command-form input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                max-height: 40vh;
            }

            .main-content {
                min-height: 60vh;
            }

            .message {
                max-width: 85%;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∏–∫–µ—Ä–æ–≤ */
        .sticker-container {
            display: flex;
            overflow-x: auto;
            padding: 10px;
            margin-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            gap: 10px;
        }

        .sticker {
            width: 80px;
            height: 80px;
            cursor: pointer;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .sticker:hover {
            transform: scale(1.1);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π */
        .mini-apps {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .mini-app-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .mini-app-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: rgba(30, 30, 40, 0.9);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #4CAF50;
        }

        .notification.error {
            border-left: 4px solid #f44336;
        }

        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –°–∞–π–¥–±–∞—Ä -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h2>OinkAIGram</h2>
            </div>
            
            <div class="sidebar-menu">
                <h3>–ú–æ–∏ –±–æ—Ç—ã</h3>
                <ul id="bot-list">
                    <!-- –ë–æ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </ul>
            </div>
            
            <button id="create-bot-button">
                <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –ò–ò –±–æ—Ç–∞
            </button>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <div class="chat-header">
                <div class="bot-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="bot-info">
                    <h2>–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è</h2>
                    <p>–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞</p>
                </div>
            </div>

            <!-- –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <div class="mini-apps">
                <button class="mini-app-button" id="weather-app">
                    <i class="fas fa-cloud-sun"></i> –ü–æ–≥–æ–¥–∞
                </button>
                <button class="mini-app-button" id="calculator-app">
                    <i class="fas fa-calculator"></i> –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
                </button>
                <button class="mini-app-button" id="news-app">
                    <i class="fas fa-newspaper"></i> –ù–æ–≤–æ—Å—Ç–∏
                </button>
                <button class="mini-app-button" id="translator-app">
                    <i class="fas fa-language"></i> –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
                </button>
            </div>

            <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
            <div id="chat-area">
                <div class="message bot">
                    –ü—Ä–∏–≤–µ—Ç! –Ø OinkAIGram - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ò–ò-–±–æ—Ç–∞–º–∏. –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ.
                    <div class="message-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ç–∏–∫–µ—Ä–æ–≤ -->
            <div class="sticker-container" id="sticker-container" style="display: none;">
                <!-- –°—Ç–∏–∫–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –û–±–ª–∞—Å—Ç—å –≤–≤–æ–¥–∞ -->
            <div class="input-area">
                <label for="file-input" class="file-input-button">
                    <i class="fas fa-paperclip"></i>
                </label>
                <input type="file" id="file-input" accept="image/*, video/*" style="display:none;">
                
                <textarea id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                
                <button id="sticker-button" class="file-input-button">
                    <i class="fas fa-smile"></i>
                </button>
                
                <button id="send-button">
                    <i class="fas fa-arrow-up"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ -->
    <div id="bot-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞</h2>
                <button class="close-button">&times;</button>
            </div>
            
            <div class="form-group">
                <label for="bot-name">–ò–º—è –±–æ—Ç–∞</label>
                <input type="text" id="bot-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞">
            </div>
            
            <div class="form-group">
                <label for="bot-description">–û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞</label>
                <textarea id="bot-description" placeholder="–û–ø–∏—à–∏—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–æ—Ç–∞"></textarea>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="agree-to-terms" required>
                <label for="agree-to-terms">
                    –Ø —Å–æ–≥–ª–∞—à–∞—é—Å—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ "OinkAIGram" –∏, —Å–æ–∑–¥–∞–≤–∞—è –±–æ—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è –∏ —Å–æ–≥–ª–∞—Å–µ–Ω —Å 
                    <a href="#" target="_blank">–£—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a> –∏ 
                    <a href="#" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>.
                </label>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-bot-creation">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="create-bot-confirm">–°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞ -->
    <div id="bot-settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞</h2>
                <button class="close-button">&times;</button>
            </div>
            
            <div class="bot-settings">
                <div class="form-group">
                    <label for="bot-name-setting">–ò–º—è –±–æ—Ç–∞</label>
                    <input type="text" id="bot-name-setting" placeholder="–ò–º—è –±–æ—Ç–∞">
                </div>
                
                <div class="form-group">
                    <label for="bot-avatar">URL –∞–≤–∞—Ç–∞—Ä–∞</label>
                    <input type="text" id="bot-avatar" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –±–æ—Ç–∞">
                </div>
                
                <div class="form-group">
                    <label for="welcome-message">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</label>
                    <textarea id="welcome-message" placeholder="–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="bot-description-setting">–û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞</label>
                    <textarea id="bot-description-setting" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞"></textarea>
                </div>
                
                <h4>–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞</h4>
                <div id="command-list">
                    <!-- –ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="command-form">
                    <input type="text" id="command-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã">
                    <input type="text" id="command-response-input" placeholder="–û—Ç–≤–µ—Ç –±–æ—Ç–∞">
                    <button class="btn btn-primary" id="add-command-button">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-bot-settings">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="save-bot-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
            const chatArea = document.getElementById('chat-area');
            const messageInput = document.getElementById('message-input');
            const sendButton = document.getElementById('send-button');
            const fileInput = document.getElementById('file-input');
            const stickerButton = document.getElementById('sticker-button');
            const stickerContainer = document.getElementById('sticker-container');
            const createBotButton = document.getElementById('create-bot-button');
            const botModal = document.getElementById('bot-modal');
            const botSettingsModal = document.getElementById('bot-settings-modal');
            const closeButtons = document.querySelectorAll('.close-button');
            const botList = document.getElementById('bot-list');
            const commandList = document.getElementById('command-list');
            const notification = document.getElementById('notification');
            
            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            let currentBot = null;
            let bots = [];
            let stickers = [
                'üòÄ', 'üòÇ', 'üòç', 'ü§î', 'üòé', 'ü•≥', 'üò¢', 'üò°', 
                '‚ù§Ô∏è', 'üëç', 'üëé', 'üî•', '‚≠ê', 'üéâ', 'üíØ', 'ü§ñ'
            ];

            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
            function loadBotsFromStorage() {
                const storedBots = localStorage.getItem('oinkAIGramBots');
                if (storedBots) {
                    bots = JSON.parse(storedBots);
                    renderBotList();
                    
                    // –ï—Å–ª–∏ –µ—Å—Ç—å –±–æ—Ç—ã, –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ
                    if (bots.length > 0) {
                        selectBot(bots[0]);
                    }
                }
            }

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
            function saveBotsToStorage() {
                localStorage.setItem('oinkAIGramBots', JSON.stringify(bots));
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            function showNotification(message, type = 'success') {
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±–æ—Ç–æ–≤
            function renderBotList() {
                botList.innerHTML = '';
                
                if (bots.length === 0) {
                    const emptyMessage = document.createElement('li');
                    emptyMessage.textContent = '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –±–æ—Ç–æ–≤';
                    emptyMessage.style.padding = '15px';
                    emptyMessage.style.textAlign = 'center';
                    emptyMessage.style.color = '#aaa';
                    botList.appendChild(emptyMessage);
                    return;
                }
                
                bots.forEach((bot, index) => {
                    const botItem = document.createElement('li');
                    botItem.innerHTML = `
                        <span>${bot.name}</span>
                        <div class="bot-actions">
                            <button class="edit-bot" data-index="${index}"><i class="fas fa-cog"></i></button>
                            <button class="delete-bot" data-index="${index}"><i class="fas fa-trash"></i></button>
                        </div>
                    `;
                    
                    if (currentBot && currentBot.id === bot.id) {
                        botItem.classList.add('active');
                    }
                    
                    botItem.addEventListener('click', (e) => {
                        if (!e.target.classList.contains('edit-bot') && !e.target.classList.contains('delete-bot')) {
                            selectBot(bot);
                        }
                    });
                    
                    const editButton = botItem.querySelector('.edit-bot');
                    editButton.addEventListener('click', (e) => {
                        e.stopPropagation();
                        openBotSettings(bot);
                    });
                    
                    const deleteButton = botItem.querySelector('.delete-bot');
                    deleteButton.addEventListener('click', (e) => {
                        e.stopPropagation();
                        deleteBot(bot.id);
                    });
                    
                    botList.appendChild(botItem);
                });
            }

            // –í—ã–±–æ—Ä –±–æ—Ç–∞
            function selectBot(bot) {
                currentBot = bot;
                renderBotList();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞
                const botAvatar = document.querySelector('.bot-avatar');
                const botName = document.querySelector('.bot-info h2');
                const botDescription = document.querySelector('.bot-info p');
                
                botName.textContent = bot.name;
                botDescription.textContent = bot.description || '–ò–ò-–±–æ—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è';
                
                // –û—á–∏—â–∞–µ–º —á–∞—Ç
                chatArea.innerHTML = '';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                if (bot.welcomeMessage) {
                    displayMessage(bot.welcomeMessage, 'bot');
                } else {
                    displayMessage(`–ü—Ä–∏–≤–µ—Ç! –Ø ${bot.name}. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?`, 'bot');
                }
                
                showNotification(`–ë–æ—Ç "${bot.name}" –≤—ã–±—Ä–∞–Ω`);
            }

            // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
            function createBot(name, description) {
                const newBot = {
                    id: Date.now(),
                    name: name,
                    description: description,
                    avatar: '',
                    welcomeMessage: `–ü—Ä–∏–≤–µ—Ç! –Ø ${name}. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?`,
                    commands: [
                        { name: '–ø—Ä–∏–≤–µ—Ç', response: `–ü—Ä–∏–≤–µ—Ç! –Ø ${name}. –†–∞–¥ –æ–±—â–µ–Ω–∏—é —Å —Ç–æ–±–æ–π!` },
                        { name: '–ø–æ–º–æ—â—å', response: '–Ø –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Ç–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —á—Ç–æ-–Ω–∏–±—É–¥—å!' },
                        { name: '–∫–æ–º–∞–Ω–¥—ã', response: '–ú–æ–∏ –∫–æ–º–∞–Ω–¥—ã: –ø—Ä–∏–≤–µ—Ç, –ø–æ–º–æ—â—å, –∫–æ–º–∞–Ω–¥—ã, –≤—Ä–µ–º—è, –ø–æ–≥–æ–¥–∞, –Ω–æ–≤–æ—Å—Ç–∏' }
                    ]
                };
                
                bots.push(newBot);
                saveBotsToStorage();
                renderBotList();
                selectBot(newBot);
                showNotification(`–ë–æ—Ç "${name}" —Å–æ–∑–¥–∞–Ω`);
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ –±–æ—Ç–∞
            function deleteBot(botId) {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –±–æ—Ç–∞?')) {
                    bots = bots.filter(bot => bot.id !== botId);
                    
                    if (currentBot && currentBot.id === botId) {
                        currentBot = null;
                        
                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞
                        const botName = document.querySelector('.bot-info h2');
                        const botDescription = document.querySelector('.bot-info p');
                        
                        botName.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è';
                        botDescription.textContent = '–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞';
                        
                        // –û—á–∏—â–∞–µ–º —á–∞—Ç
                        chatArea.innerHTML = '';
                        displayMessage('–ü—Ä–∏–≤–µ—Ç! –Ø OinkAIGram - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ò–ò-–±–æ—Ç–∞–º–∏. –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ.', 'bot');
                    }
                    
                    saveBotsToStorage();
                    renderBotList();
                    showNotification('–ë–æ—Ç —É–¥–∞–ª–µ–Ω');
                }
            }

            // –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞
            function openBotSettings(bot) {
                currentBot = bot;
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã
                document.getElementById('bot-name-setting').value = bot.name;
                document.getElementById('bot-avatar').value = bot.avatar || '';
                document.getElementById('welcome-message').value = bot.welcomeMessage || '';
                document.getElementById('bot-description-setting').value = bot.description || '';
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
                renderCommands(bot.commands);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                botSettingsModal.style.display = 'block';
            }

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
            function renderCommands(commands) {
                commandList.innerHTML = '';
                
                if (commands.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.textContent = '–£ —ç—Ç–æ–≥–æ –±–æ—Ç–∞ –ø–æ–∫–∞ –Ω–µ—Ç –∫–æ–º–∞–Ω–¥';
                    emptyMessage.style.padding = '10px';
                    emptyMessage.style.textAlign = 'center';
                    emptyMessage.style.color = '#aaa';
                    commandList.appendChild(emptyMessage);
                    return;
                }
                
                commands.forEach((command, index) => {
                    const commandItem = document.createElement('div');
                    commandItem.className = 'command-item';
                    commandItem.innerHTML = `
                        <div>
                            <strong>/${command.name}</strong> - ${command.response}
                        </div>
                        <div class="command-actions">
                            <button class="edit-command" data-index="${index}"><i class="fas fa-edit"></i></button>
                            <button class="delete-command" data-index="${index}"><i class="fas fa-trash"></i></button>
                        </div>
                    `;
                    
                    const deleteButton = commandItem.querySelector('.delete-command');
                    deleteButton.addEventListener('click', () => {
                        deleteCommand(index);
                    });
                    
                    const editButton = commandItem.querySelector('.edit-command');
                    editButton.addEventListener('click', () => {
                        editCommand(index);
                    });
                    
                    commandList.appendChild(commandItem);
                });
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
            function addCommand() {
                const nameInput = document.getElementById('command-name-input');
                const responseInput = document.getElementById('command-response-input');
                
                const name = nameInput.value.trim();
                const response = responseInput.value.trim();
                
                if (!name || !response) {
                    showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ–º–∞–Ω–¥—ã', 'error');
                    return;
                }
                
                if (currentBot) {
                    currentBot.commands.push({ name, response });
                    saveBotsToStorage();
                    renderCommands(currentBot.commands);
                    
                    nameInput.value = '';
                    responseInput.value = '';
                    
                    showNotification('–ö–æ–º–∞–Ω–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞');
                }
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
            function deleteCommand(index) {
                if (currentBot && confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É?')) {
                    currentBot.commands.splice(index, 1);
                    saveBotsToStorage();
                    renderCommands(currentBot.commands);
                    showNotification('–ö–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª–µ–Ω–∞');
                }
            }

            // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
            function editCommand(index) {
                if (currentBot) {
                    const command = currentBot.commands[index];
                    const newName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã:', command.name);
                    const newResponse = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –æ—Ç–≤–µ—Ç –±–æ—Ç–∞:', command.response);
                    
                    if (newName && newResponse) {
                        currentBot.commands[index] = { name: newName, response: newResponse };
                        saveBotsToStorage();
                        renderCommands(currentBot.commands);
                        showNotification('–ö–æ–º–∞–Ω–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
                    }
                }
            }

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
            function displayMessage(content, sender, type = 'text') {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', sender);
                
                if (type === 'text') {
                    messageDiv.textContent = content;
                } else if (type === 'image') {
                    const img = document.createElement('img');
                    img.src = content;
                    messageDiv.appendChild(img);
                } else if (type === 'video') {
                    const video = document.createElement('video');
                    video.controls = true;
                    video.width = 320;
                    const source = document.createElement('source');
                    source.src = content;
                    source.type = 'video/mp4';
                    video.appendChild(source);
                    messageDiv.appendChild(video);
                } else if (type === 'sticker') {
                    messageDiv.textContent = content;
                    messageDiv.style.fontSize = '2rem';
                    messageDiv.style.textAlign = 'center';
                    messageDiv.style.padding = '15px';
                }
                
                const timeDiv = document.createElement('div');
                timeDiv.className = 'message-time';
                timeDiv.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                
                messageDiv.appendChild(timeDiv);
                chatArea.appendChild(messageDiv);
                chatArea.scrollTop = chatArea.scrollHeight;
            }

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –±–æ—Ç–∞
            function getBotResponse(message) {
                if (!currentBot) return "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –æ–±—â–µ–Ω–∏—è.";
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—ã
                for (const command of currentBot.commands) {
                    if (message.toLowerCase().includes(command.name.toLowerCase())) {
                        return command.response;
                    }
                }
                
                // –†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
                if (message.toLowerCase().includes('–∫–∞–∫ –¥–µ–ª–∞') || message.toLowerCase().includes('–∫–∞–∫ —Ç—ã')) {
                    return "–£ –º–µ–Ω—è –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Å–ø—Ä–æ—Å–∏–ª(–∞). –ê —É —Ç–µ–±—è –∫–∞–∫?";
                }
                
                if (message.toLowerCase().includes('–ø–æ–≥–æ–¥–∞')) {
                    // –†–µ–∞–ª—å–Ω–∞—è –ø–æ–≥–æ–¥–∞ —á–µ—Ä–µ–∑ API (–∑–∞–≥–ª—É—à–∫–∞)
                    const weatherConditions = ['—Å–æ–ª–Ω–µ—á–Ω–æ', '–æ–±–ª–∞—á–Ω–æ', '–¥–æ–∂–¥–ª–∏–≤–æ', '—Å–Ω–µ–∂–Ω–æ', '–≤–µ—Ç—Ä–µ–Ω–æ'];
                    const temperatures = ['+15¬∞C', '+20¬∞C', '+25¬∞C', '+10¬∞C', '+5¬∞C'];
                    const randomWeather = weatherConditions[Math.floor(Math.random() * weatherConditions.length)];
                    const randomTemp = temperatures[Math.floor(Math.random() * temperatures.length)];
                    
                    return `–°–µ–≥–æ–¥–Ω—è ${randomWeather}, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ${randomTemp}. –ò–¥–µ–∞–ª—å–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏!`;
                }
                
                if (message.toLowerCase().includes('–≤—Ä–µ–º—è')) {
                    return `–°–µ–π—á–∞—Å ${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
                }
                
                if (message.toLowerCase().includes('–Ω–æ–≤–æ—Å—Ç–∏')) {
                    const news = [
                        "–°–µ–≥–æ–¥–Ω—è —Å–æ—Å—Ç–æ—è–ª—Å—è –∑–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ OinkAIGram!",
                        "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ –ò–ò –¥–æ—Å—Ç–∏–≥–ª–∏ –Ω–æ–≤—ã—Ö —É—Å–ø–µ—Ö–æ–≤ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.",
                        "–í –º–∏—Ä–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –æ–∂–∏–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Ä—ã–≤ –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.",
                        "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∏ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –ò–ò, —Å–ø–æ—Å–æ–±–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç."
                    ];
                    const randomNews = news[Math.floor(Math.random() * news.length)];
                    
                    return randomNews;
                }
                
                if (message.toLowerCase().includes('–ø–µ—Ä–µ–≤–æ–¥') || message.toLowerCase().includes('translate')) {
                    const textToTranslate = message.replace(/–ø–µ—Ä–µ–≤–æ–¥|translate/gi, '').trim();
                    if (textToTranslate) {
                        // –ü—Ä–æ—Å—Ç–∞—è –∏–º–∏—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
                        const translations = {
                            '–ø—Ä–∏–≤–µ—Ç': 'hello',
                            '–∫–∞–∫ –¥–µ–ª–∞': 'how are you',
                            '—Å–ø–∞—Å–∏–±–æ': 'thank you',
                            '–ø–æ–∫–∞': 'goodbye',
                            '–¥–∞': 'yes',
                            '–Ω–µ—Ç': 'no'
                        };
                        
                        const lowerText = textToTranslate.toLowerCase();
                        const translation = translations[lowerText] || `[–ø–µ—Ä–µ–≤–æ–¥: ${textToTranslate}]`;
                        
                        return `–ü–µ—Ä–µ–≤–æ–¥: "${translation}"`;
                    } else {
                        return "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–æ—Å–ª–µ —Å–ª–æ–≤–∞ '–ø–µ—Ä–µ–≤–æ–¥'";
                    }
                }
                
                if (message.toLowerCase().includes('–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä') || message.includes('+') || message.includes('-') || message.includes('*') || message.includes('/')) {
                    try {
                        // –ò–∑–≤–ª–µ–∫–∞–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
                        const expression = message.replace(/[^0-9+\-*/().]/g, '');
                        if (expression) {
                            const result = Function(`"use strict"; return (${expression})`)();
                            return `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${expression} = ${result}`;
                        }
                    } catch (error) {
                        return "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –º–æ–≥—É –≤—ã—á–∏—Å–ª–∏—Ç—å —ç—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.";
                    }
                }
                
                if (message.toLowerCase().includes('—Å–ø–∞—Å–∏–±–æ')) {
                    return "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å!";
                }
                
                // –°–ª—É—á–∞–π–Ω—ã–π –æ—Ç–≤–µ—Ç, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
                const randomResponses = [
                    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–π—Ç–µ –º–Ω–µ –ø–æ–¥—É–º–∞—Ç—å...",
                    "–ü–æ–∫–∞ —è —É–º–µ—é –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ø—Ä–æ—Å–∏—Ç—å —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ!",
                    "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –µ—â–µ —É—á—É—Å—å. –ú–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ-–¥—Ä—É–≥–æ–º—É?",
                    "–•–º, —Ö–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è –ø–æ–∫–∞ –Ω–µ –∑–Ω–∞—é –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –Ω–µ–≥–æ.",
                    "–Ø –±—ã —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø–æ–º–æ–≥, –Ω–æ –º–æ–∏ –∑–Ω–∞–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ –º–æ–∏—Ö –∫–æ–º–∞–Ω–¥!"
                ];
                
                return randomResponses[Math.floor(Math.random() * randomResponses.length)];
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∏–∫–µ—Ä–æ–≤
            function initStickers() {
                stickerContainer.innerHTML = '';
                
                stickers.forEach(sticker => {
                    const stickerElement = document.createElement('div');
                    stickerElement.className = 'sticker';
                    stickerElement.textContent = sticker;
                    stickerElement.style.fontSize = '2rem';
                    stickerElement.style.display = 'flex';
                    stickerElement.style.alignItems = 'center';
                    stickerElement.style.justifyContent = 'center';
                    stickerElement.style.cursor = 'pointer';
                    
                    stickerElement.addEventListener('click', () => {
                        if (currentBot) {
                            displayMessage(sticker, 'user', 'sticker');
                            
                            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
                            setTimeout(() => {
                                const botSticker = stickers[Math.floor(Math.random() * stickers.length)];
                                displayMessage(botSticker, 'bot', 'sticker');
                            }, 1000);
                        } else {
                            showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                        }
                        
                        stickerContainer.style.display = 'none';
                    });
                    
                    stickerContainer.appendChild(stickerElement);
                });
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
            function initMiniApps() {
                // –ü–æ–≥–æ–¥–∞
                document.getElementById('weather-app').addEventListener('click', () => {
                    if (currentBot) {
                        displayMessage("–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ —Å–µ–≥–æ–¥–Ω—è?", 'user');
                        
                        setTimeout(() => {
                            const response = getBotResponse("–ø–æ–≥–æ–¥–∞");
                            displayMessage(response, 'bot');
                        }, 1000);
                    } else {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                    }
                });
                
                // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
                document.getElementById('calculator-app').addEventListener('click', () => {
                    if (currentBot) {
                        const expression = prompt('–í–≤–µ–¥–∏—Ç–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:');
                        if (expression) {
                            displayMessage(`–ü–æ—Å—á–∏—Ç–∞—Ç—å: ${expression}`, 'user');
                            
                            setTimeout(() => {
                                const response = getBotResponse(expression);
                                displayMessage(response, 'bot');
                            }, 1000);
                        }
                    } else {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                    }
                });
                
                // –ù–æ–≤–æ—Å—Ç–∏
                document.getElementById('news-app').addEventListener('click', () => {
                    if (currentBot) {
                        displayMessage("–ö–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏?", 'user');
                        
                        setTimeout(() => {
                            const response = getBotResponse("–Ω–æ–≤–æ—Å—Ç–∏");
                            displayMessage(response, 'bot');
                        }, 1000);
                    } else {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                    }
                });
                
                // –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
                document.getElementById('translator-app').addEventListener('click', () => {
                    if (currentBot) {
                        const text = prompt('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞:');
                        if (text) {
                            displayMessage(`–ü–µ—Ä–µ–≤–µ—Å—Ç–∏: "${text}"`, 'user');
                            
                            setTimeout(() => {
                                const response = getBotResponse(`–ø–µ—Ä–µ–≤–æ–¥ ${text}`);
                                displayMessage(response, 'bot');
                            }, 1000);
                        }
                    } else {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                    }
                });
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            sendButton.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            function sendMessage() {
                const messageText = messageInput.value.trim();
                if (messageText !== '') {
                    if (currentBot) {
                        displayMessage(messageText, 'user');
                        messageInput.value = '';
                        
                        // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
                        sendButton.innerHTML = '<div class="loading"></div>';
                        sendButton.disabled = true;
                        
                        setTimeout(() => {
                            const botResponse = getBotResponse(messageText);
                            displayMessage(botResponse, 'bot');
                            
                            sendButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
                            sendButton.disabled = false;
                        }, 1000 + Math.random() * 2000);
                    } else {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                    }
                }
            }
            
            fileInput.addEventListener('change', () => {
                const file = fileInput.files[0];
                if (file) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const fileURL = e.target.result;
                        let messageType;
                        
                        if (file.type.startsWith('image/')) {
                            messageType = 'image';
                        } else if (file.type.startsWith('video/')) {
                            messageType = 'video';
                        } else {
                            showNotification('–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞', 'error');
                            return;
                        }
                        
                        if (currentBot) {
                            displayMessage(fileURL, 'user', messageType);
                            
                            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
                            setTimeout(() => {
                                displayMessage('–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–π–ª! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–¥–µ–ª–∏–ª—Å—è(–∞—Å—å).', 'bot');
                            }, 1000);
                        } else {
                            showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞', 'error');
                        }
                        
                        fileInput.value = '';
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            stickerButton.addEventListener('click', () => {
                if (stickerContainer.style.display === 'none' || stickerContainer.style.display === '') {
                    stickerContainer.style.display = 'flex';
                } else {
                    stickerContainer.style.display = 'none';
                }
            });
            
            createBotButton.addEventListener('click', () => {
                document.getElementById('bot-name').value = '';
                document.getElementById('bot-description').value = '';
                document.getElementById('agree-to-terms').checked = false;
                botModal.style.display = 'block';
            });
            
            document.getElementById('create-bot-confirm').addEventListener('click', () => {
                const botName = document.getElementById('bot-name').value.trim();
                const botDescription = document.getElementById('bot-description').value.trim();
                const agreeToTerms = document.getElementById('agree-to-terms').checked;
                
                if (!botName) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞', 'error');
                    return;
                }
                
                if (!agreeToTerms) {
                    showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', 'error');
                    return;
                }
                
                createBot(botName, botDescription);
                botModal.style.display = 'none';
            });
            
            document.getElementById('cancel-bot-creation').addEventListener('click', () => {
                botModal.style.display = 'none';
            });
            
            document.getElementById('add-command-button').addEventListener('click', addCommand);
            
            document.getElementById('save-bot-settings').addEventListener('click', () => {
                if (currentBot) {
                    currentBot.name = document.getElementById('bot-name-setting').value;
                    currentBot.avatar = document.getElementById('bot-avatar').value;
                    currentBot.welcomeMessage = document.getElementById('welcome-message').value;
                    currentBot.description = document.getElementById('bot-description-setting').value;
                    
                    saveBotsToStorage();
                    renderBotList();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞
                    const botName = document.querySelector('.bot-info h2');
                    const botDescription = document.querySelector('.bot-info p');
                    
                    botName.textContent = currentBot.name;
                    botDescription.textContent = currentBot.description || '–ò–ò-–±–æ—Ç –¥–ª—è –æ–±—â–µ–Ω–∏—è';
                    
                    botSettingsModal.style.display = 'none';
                    showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                }
            });
            
            document.getElementById('cancel-bot-settings').addEventListener('click', () => {
                botSettingsModal.style.display = 'none';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const modal = button.closest('.modal');
                    modal.style.display = 'none';
                });
            });
            
            window.addEventListener('click', (event) => {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            loadBotsFromStorage();
            initStickers();
            initMiniApps();
        });
    </script>
</body>
</html>